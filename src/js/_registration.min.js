Vue.component("registration",{props:["JsonData"],data:function(){return{isInvalid:!1,isEmailValid:!0}},template:'  <div class="assessment-intro">  \n    <div class="cst-container">  \n     <div class="survey-intro">     \n     <div class="introduction-title" v-html="JsonData.heading"></div>  \n     <div class="registrationHint-text" v-html="JsonData.registrationHintText"></div>                     \n     <div :style="[isInvalid==true ?{\'visibility\':\'visible\'}:{\'visibility\':\'hidden\'}]" class="validated-error"  v-html="JsonData.Error">There is an error</div>\n     <div :style="[isEmailValid==false ?{\'visibility\':\'visible\'}:{\'visibility\':\'hidden\'}]" class="validated-error" v-html="JsonData.emailError">Email is invalid</div>\n     <div class="intro-panel"> \n         \n             <div v-for="(input, index) in JsonData.inputFields" class="col-50">\n                 <div class="registration-inner">\n                     <label class="lbl-control" :for="\'qual_\'+ index" v-html="input.label"></label>                                        \n\n                     <input class="cst-form-control" v-if="input.inputType==\'text\' || input.inputType==\'email\'" :id="\'qual_\'+ index"\n                      :value="input.inputVal" @input="handleInput(input.inputId,index, $event)" @blur="handleBlur(input,index, $event)" \n                     :placeholder="input.placeholder"/>                    \n                     </div>\n                </div>\n            </div>\n            <div class="survey-begin txt-center">\n                <div class="btn-item frw" @click="handleForward" v-html="JsonData.frdBtnTxt"></div>\n             </div>\n        </div>\n     </div>\n </div>',mounted:function(){},methods:{handleSelect:function(index,e){this.JsonData.inputFields[index].selectedId=e.target.value,document.querySelector("#"+e.target.value).click()},handleForward:function(){let isFormInvalid=!1;this.JsonData.inputFields.forEach(input=>{var val="select"==input.inputType?input.selectedId:"text"==input.inputType||"email"==input.inputType?input.inputVal:"";val||(isFormInvalid=!0),"email"===input.inputType&&val&&!/^[a-zA-Z0-9](\.?[a-zA-Z0-9_-]){1,}@([\w\-]+)((\.[a-zA-Z0-9_-]{2,})+)$/.test(val)&&(this.isEmailValid=!1)}),!isFormInvalid&&this.isEmailValid&&document.getElementById("forwardbutton").click(),this.isInvalid=isFormInvalid},handleBlur:function(input,index,e){"email"===input.inputType&&(/^[a-zA-Z0-9](\.?[a-zA-Z0-9_-]){1,}@([\w\-]+)((\.[a-zA-Z0-9_-]{2,})+)$/.test(e.target.value)?this.isEmailValid=!0:this.isEmailValid=!1);let trimmedValue=e.target.value.trim();document.getElementById(input.inputId).value=trimmedValue},handleInput:function(id,index,e){let isFormInvalid=!1,value=e.target.value,inputArr=value.split("");" "===inputArr[0]&&(inputArr.splice(0,1),value=inputArr.join("")),document.getElementById(id).value=value,e.target.value=value,this.JsonData.inputFields[index].inputVal=value,this.JsonData.inputFields.forEach(input=>{var val;("select"==input.inputType?input.selectedId:"text"==input.inputType||"email"==input.inputType?input.inputVal:"")||(isFormInvalid=!0)}),this.isInvalid&&(this.isInvalid=isFormInvalid)}}});